<navbar></navbar>

<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <h1>Accounts</h1>
    </div>
    <div class="col-sm-12">

      <div ng-repeat="account in vm.accounts | filter : {enable:true}" class="account">

        <div ng-click="vm.disableAccount(account)">
          Remove
        </div>
        <div class="currency-logo-{{account.currency}}"></div>
        <div>{{account.currency}}</div>
        <div>Balance {{account.balance}}</div>
        <div>Address {{account.address}}</div>
        <div>
          <form name="payout-{{account.currency}}"
                action="{{'/accounts/' + account.currency + '/out'}}"
                method="post"
                class="form-payout">
            <div class="form-group-payout">
              <label for="amount-{{account.currency}}">Amount</label>
              <input type="text"
                     id="amount-{{account.currency}}"
                     name="amount"
                     class="input-large">
            </div>
            <div class="form-group-fee">
              <label for="fee-{{account.currency}}">Fee</label>
              <input type="text"
                     id="fee-{{account.currency}}"
                     name="fee"
                     value=""
                     class="input-xlarge">
            </div>
            <div class="form-group-payout">
              <label for="address-{{account.currency}}">Payout to</label>
              <input type="text"
                     id="address-{{account.currency}}"
                     name="address"
                     value=""
                     class="input-xlarge">
            </div>
            <input type="button"
                   value="CASH OUT"
                   class="btn"
                   ng-click="vm.cashOut(account.currency)">
          </form>
        </div>
      </div>

      <div ng-if="disabledAccounts.length > 0">
        <h2>Create Account</h2>
      </div>

      <div>
        <div ng-repeat="account in vm.currencies | filter : {enable: false} as disabledAccounts">
          <div ng-click="vm.enableAccount(account)">
            <div class="currency-logo-{{account.currency}}"></div>
            <div>{{account.currency}}</div>
            <div>{{account|json}}</div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>